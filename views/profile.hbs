<div id="profile_page">
  <img id=profile_bg src="/images/smoke.jpeg" alt="background ">
  <h1 id=profile_h1> Profile Page</h1>
  <img id=profile_pic src="/images/dali.jpg" alt="profile imagen">
</div>

{{!-- los Tabs --}}

<ul class="tabs tabs-fixed-width tab-demo z-depth-1 ">
  <li class="tab"><a href="#projects">Proyectos</a></li>
  <li class="tab"><a class="active" href="#friends">Amigos</a></li>
  <li class="tab"><a href="#events">Eventos</a></li>
  <li class="tab"><a href="#chips">Etiquetas</a></li>
</ul>
<div id="projects" class="col s12">
  <div>
    <h4>Seccion de proyectos</h4>
    <p>Mostrar mis ultimos proyectos</p>
    <button id=nuevoProy> New Project </button>
  </div>
</div>
<div id="friends" class="col s12">
  <div>
    <h4>Seccion de amigos</h4>
    <p>Mostrar 3~5 amigos</p>
    <button>Add Friend </button>
  </div>
</div>
<div id="events" class="col s12">
  <div>
    <h4/h4>Seccion de Eventos</h4> <p>Mostrar 3~5 eventos</p>
      <!-- Modal Trigger -->
      <a class="waves-effect waves-light btn orange modal-trigger" href="#event">New Event</a>
      {{!-- <button> <a href="/event/create">New Event</a> </button> --}}
  </div>
</div>
<div id="chips" Etiquetas="col s12">
  <div>
    <p>Seccion de tags /lateral</p>
    {{!-- inicia chips --}}
    <div class="chips"></div>

    <!-- termina chips -->

    <div class="container section">
      <div class="row">
        <div class="col s12">
          <ul class="tabs">
            <li class="tab col s3"><a href="#test1">Test 1</a></li>
            <li class="tab col s3"><a class="active" href="#test2">Test 2</a></li>
            <li class="tab col s3 disabled"><a href="#test3">Disabled Tab</a></li>
            <li class="tab col s3"><a href="#test4">Test 4</a></li>
          </ul>
        </div>
        <div id="test1" class="col s12">Test 1</div>
        <div id="test2" class="col s12">Test 2</div>
        <div id="test3" class="col s12">Test 3</div>
        <div id="test4" class="col s12">Test 4</div>
      </div>
    </div>{{!--fin de tabs   --}}
  </div>
</div>
</div>

{{!-- chips del profile --}}
<script>
  //chip initialization
  document.addEventListener('DOMContentLoaded', function () {
    let elems = document.querySelectorAll('.chips');
    let instances = M.Chips.init(elems, options);
  });
  //chips object
  let chip = {
    tag: 'chip content',
  };
  let instance = M.Chips.getInstance(elem);
  }
</script>
{{!-- terminan chips --}}



  <!-- Modal Structure -->
  <div class="modal" id="event">
    <div class="modal-content">
      <h3>Create a new awesome event</h3>
      <div class="row">
        <br>
        <form class="col s12" method="POST" action="/event/create">
          <div class="row">
            <div class="input-field col s12">
              <input id="title" type="text" name="title">
              <label for="title">Event Name</label>
            </div>
            <div class="input-field col s12">
              <input id="description" type="text" name="description">
              <label for="description">Event Description</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s6">
              <div id='map'></div>
            </div>
            <div class="row">
              <div class="input-field col s6">
                <input id="lng" type="text" name="location[coordinates][0]" hidden>
              </div>
              <div class="input-field col s6">
                <input id="lat" type="text" name="location[coordinates][1]" hidden>
              </div>
              <div class="input-field col s6">
                <input id="address" type="text" name="location[address]" hidden>
              </div>
            </div>
          </div>
          <button class="btn waves-effect waves-light red" type="submit">Create
            <i class="material-icons right">send</i>
          </button>
        </form>
      </div>
    </div>
  </div>

{{!-- Mapbox --}}
<script>
  mapboxgl.accessToken = 'pk.eyJ1IjoiZGl1cml2aiIsImEiOiJjanAxdjA2cTQwMGp1M2tvYzZmZGp3bWc3In0.4cZEyLkU2ikqx_wb4A1z8A';
  const map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11'
  });
  const geoCoder = new MapboxGeocoder({
    accessToken: mapboxgl.accessToken
  })
  map.addControl(geoCoder)
  geoCoder.on('results', (results) => {
    document.querySelector('#address').value = results.features[0].place_name
    document.querySelector('#lat').value = results.features[0].center[1];
    document.querySelector('#lng').value = results.features[0].center[0];
  });
</script>

{{!-- Modal Engine --}}
<script>
  document.addEventListener('DOMContentLoaded', function () {
    let elements = document.querySelectorAll('.modal');
    let ins = M.Modal.init(elements);
  });
</script>




<script>
  document.querySelector('input[name="photoURL"]').addEventListener('change', (e) => {
    document.querySelector('label.custom-file-label span').innerText = e.target.files[0].name
  });
</script>
